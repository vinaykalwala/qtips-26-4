<!-- <div class="offcanvas__area">
  <div class="offcanvas__wrapper">
    <div class="offcanvas__close">
      <button class="offcanvas__close-btn" id="offcanvas__close-btn">
        <i class="fal fa-times"></i>
      </button>
    </div>
    <div class="offcanvas__content">
      <div class="offcanvas__logo mb-40">
        <a href="/">
          <h1>VCart</h1>
        </a>
      </div>
      <div class="offcanvas__search mb-25">
        {% if request.session.cart|length < 1 %} <h4 style="text-align: center;">Your Cart is empty</h4>
          {% else %}
          {% for key,value in request.session.cart.items %}
          <div class="cart__item d-flex justify-content-between align-items-center">
            <div class="cart__inner d-flex">
              <div class="cart__thumb">
                <a href="#">
                  <img src="{{value.image}}" alt="">
                </a>
              </div>
              <div class="cart__details">
                <h6><a href="{{value.absolute_url}}">{{value.name}} </a></h6>
                <div class="cart__price">
                  <span>&#8377;{{value.price|floatformat:0}}</span>
                </div>
              </div>
            </div>
            <div class="cart__del">
              <a href="{% url 'item_clear' key  %}"><i class="fal fa-times"></i></a>
            </div>
          </div>
          {% endfor %}
          <div>
            <li>
              <a href="/cart/cart-detail/" class="wc-cart mb-10">View cart</a>
              <a href="{% url 'cart_clear' %}" class="wc-cart mb-10">Clear Cart</a>
              <a href="/checkout/" class="wc-checkout">Checkout</a>
            </li>
          </div>
          {% endif %}
      </div>
      <div class="mobile-menu fix"></div>
      <div class="offcanvas__action">

      </div>
    </div>
  </div>
</div> -->
<!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">-->

<style>
body {
  font-family: "Lato", sans-serif;
}
.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 20;
  top: 0;
  right: 0;
  background-color: #fff;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}
.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}
.sidenav a:hover {
  color: #f1f1f1;
}
.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}
#main {
  transition: margin-right .5s;
  padding: 16px;
}
@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}

.custom-offcanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 250px;
    height: 100%;
    background-color: #fff; /* Add your preferred background color */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    overflow-y: auto;
    transition: transform 0.3s ease-in-out;
    transform: translateX(-250px);
    z-index:20;
  }

  .custom-offcanvas.show {
    transform: translateX(0);
  }

  .custom-offcanvas-header {
    padding: 1rem;
    background-color: #f8f9fa; /* Add your preferred header background color */
    border-bottom: 1px solid #dee2e6; /* Add your preferred border color */
  }

  .custom-offcanvas-title {
    font-size: 1.5rem;
    margin-bottom: 0;
  }

  .mobile-menu {
    padding: 20px;
  }
  .wc-cart{
      width:50%;
      color:white;
  }
</style>
<div class="custom-offcanvas custom-offcanvas-start" id="demo">
  <div class="custom-offcanvas-header">
    <a href="/" class="logo-image"><h1><span style="color:#3f96cd">Q</span><span style="color:black">Tipstore</span></h1></a>

    <button type="button" class="btn-close text-reset" id='close-offcanvas'></button>
  </div>
  <div>
    <div class="mobile-menu fix" style="padding: 20px;"></div>
  </div>
</div>

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <div class="offcanvas-header">
    <h1 class="offcanvas-title">QTipStore</h1>
  </div>
  <div class="offcanvas__search mb-25" style="padding: 2rem">
    {% if cart_products|length < 1 %} <h4 style="text-align: center;">Your Cart is empty</h4>
      {% else %}
      {% for value in cart_products %}
      <div class="cart__item d-flex justify-content-between align-items-center">
        <div class="cart__inner d-flex">
          <div class="cart__thumb">
            <a href="#">
              <img src="/media/{{value.variant_image_url}}" alt="">
            </a>
          </div>
          <div class="cart__details">
            <!-- <h6><a href=" url 'product_detail' slug=value.product_slug variant_id=value.id ">{{value.variant_title}} </a></h6> -->
            <div class="cart__price">
              <span>&#8377;{{value.variant_price|floatformat:0}}</span>
            </div>
          </div>
        </div>
        <div class="cart__del">
            <!--{% url 'clear_cart_item' product_variant_id=value.id %}-->
    <a href="#" class="remove-item" data-product-variant-id="{{ value.id }}">
    <i class="fal fa-times"></i>
</a>
    </div>
      </div>
      {% endfor %}
      <div>
        <li>
          <a style="font-size:medium;color:black;width:100%;text-align:center;" href="/cart/cart-detail/" class="wc-cart mb-10">View cart</a>
          <a style="font-size:medium;color:black;width:100%;text-align:center;" href="#" id="clear-cart-link" class="wc-cart mb-10">Clear Cart</a>
          <a style="font-size:medium;color:black;width:100%;text-align:center;" href="/checkout/" class="wc-checkout">Checkout</a>
        </li>
      </div>
      {% endif %}
  </div>


</div>
<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "27rem";

}
function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var offcanvas = document.getElementById('demo');
    var toggleButton = document.getElementById('toggle-offcanvas');
    var closeButton = document.getElementById('close-offcanvas');

    toggleButton.addEventListener('click', function () {
      offcanvas.classList.toggle('show');
    });

    closeButton.addEventListener('click', function () {
      offcanvas.classList.remove('show');
    });
  });
</script>


<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>-->
<!-- <script>-->
<!--    $(document).ready(function() {-->
         <!--Function to handle click on 'x' button in the cart-->
<!--        $('.remove-item').on('click', function(e) {-->
<!--            e.preventDefault();-->

            <!--// Get the product_variant_id of the clicked item-->
<!--            var productVariantId = $(this).data('product-variant-id');-->

            <!--// Store the reference to the clicked item for removal-->
<!--            var cartItemToRemove = $(this).closest('.cart__item');-->

            <!--// Make an AJAX request to remove the specific item from the cart-->
<!--            $.ajax({-->
<!--                type: 'GET',-->
<!--                url: '/cart/remove-item/' + productVariantId + '/',-->
<!--                success: function(response) {-->
                    <!--// Update the cart UI or perform any other necessary actions-->
                    <!--// Remove the entire cart item from the DOM-->
<!--                    cartItemToRemove.remove();-->

                    <!--// Check if the cart is empty and display a message if needed-->
<!--                    if ($('.cart__item').length < 1) {-->
<!--                        $('.offcanvas__search').html('<h4 style="text-align: center;">Your Cart is empty</h4>');-->
<!--                    }-->
<!--                },-->
<!--                error: function(error) {-->
<!--                    console.error('Error removing item from cart:', error);-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->

<!--    $(document).ready(function() {-->
        <!--// Function to handle click on 'Clear Cart' link-->
<!--        $('#clear-cart-link').on('click', function(e) {-->
<!--            e.preventDefault();-->

            <!--// Make an AJAX request to clear the entire cart-->
<!--            $.ajax({-->
<!--                type: 'GET',-->
<!--                url: '{% url 'clear_cart' %}',-->
<!--                success: function(response) {-->
                    <!--// Update the cart UI or perform any other necessary actions-->
                    <!--// For example, you can remove all cart items from the DOM-->
<!--                    $('.cart__item').remove();-->

                    <!--// Update the offcanvas__search div with a message-->
<!--                    $('.offcanvas__search').html('<h4 style="text-align: center;">Your Cart is empty</h4>');-->
<!--                },-->
<!--                error: function(error) {-->
<!--                    console.error('Error clearing cart:', error);-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--</script>-->
